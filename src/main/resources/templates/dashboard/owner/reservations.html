<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Reservas del dueño</title>
</head>
<body>

<h1>Reservas del dueño</h1>

<section>
    <form th:action="@{/dashboard/owner/reservations}" method="get">
        <input type="hidden" name="ownerId" th:value="${ownerId}"/>

        <label>Desde:
            <input type="date" name="from" th:value="${from}"/>
        </label>

        <label>Hasta:
            <input type="date" name="to" th:value="${to}"/>
        </label>

        <button type="submit">Filtrar</button>
    </form>
</section>

<hr/>

<section>
    <h2>Listado de reservas</h2>

    <table border="1" cellspacing="0" cellpadding="4">
        <thead>
        <tr>
            <th>ID</th>
            <th>Cancha</th>
            <th>Sede</th>
            <th>Inicio</th>
            <th>Fin</th>
            <th>Estado reserva</th>
            <th>Estado pago</th>
            <th>Total</th>
        </tr>
        </thead>
        <tbody>
        <tr th:if="${#lists.isEmpty(reservations)}">
            <td colspan="8">No hay reservas en el rango seleccionado.</td>
        </tr>
        <tr th:each="r : ${reservations}">
            <td th:text="${r.id}">1</td>
            <td th:text="${r.fieldName}">Cancha X</td>
            <td th:text="${r.venueName}">Sede Y</td>
            <td th:text="${#temporals.format(r.startDateTime, 'yyyy-MM-dd HH:mm')}">2025-01-01 10:00</td>
            <td th:text="${#temporals.format(r.endDateTime, 'yyyy-MM-dd HH:mm')}">2025-01-01 12:00</td>
            <td th:text="${r.status}">PENDING</td>
            <td th:text="${r.paymentStatus}">NOT_INITIATED</td>
            <td th:text="${r.totalAmount}">0.0</td>
        </tr>
        </tbody>
    </table>
</section>

<hr/>

<section>
    <a th:href="@{/dashboard/owner(ownerId=${ownerId}, from=${from}, to=${to})}">Volver al resumen</a>
</section>

</body>
</html>
